<!DOCTYPE html>
<html>

<head>
    <title>로또</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <style>
        body {
            margin: 0px 0px 0px 0px;
            background: orange;
            text-align: center;
            overflow-x: hidden;
            padding-bottom: 100px;
            display: flex;
            flex-direction: column;
        }

        div {
            border: 0px;
        }

        hr {
            background-color: lightgray;
            height: 1px;
            border: 0px;
        }

        p,
        span,
        table {
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }

        .header {
            color: white;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            margin-top: 40px;
            margin-bottom: 0px;
        }

        .content {
            background: white;
            border-radius: 20px;
            margin-bottom: 80px;
        }

        .button {
            background-color: orange;
            /* Green */
            border: none;
            color: white;
            padding: 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 8px;
        }

        .randoms {
            background: white;
            border-radius: 20px;
            margin-bottom: 50px;
            display: flex;
            flex-direction: column;
        }
    </style>
</head>

<body>
    <h1 class="header"><span id="title_lotto">ㅂㅅ</span>같은 인생<br>당신이 <span id="title_num"
            style="color: orange;">1</span>등!</h1>
    <table style="width: 100%;color: orange; padding-top: 20px;">
        <tr>
            <th id="Dsun">D-6</th>
            <th id="Dmon">D-5</th>
            <th id="Dtwe">D-4</th>
            <th id="Dwen">D-3</th>
            <th id="Dthu">D-2</th>
            <th id="Dfri">D-1</th>
            <th id="Dsat">D-0</th>
        </tr>
    </table>
    <table style="width: 100%;color: white; padding-top: 0px;padding-bottom: 10px;">
        <tr>
            <th id="sun">일</th>
            <th id="mon">월</th>
            <th id="twe">화</th>
            <th id="wen">수</th>
            <th id="thu">목</th>
            <th id="fri">금</th>
            <th id="sat">토</th>
        </tr>
    </table>
    <div class="content">
        <div class="randoms">
            <p style="font-size: 30px;font-weight: 500;padding-top: 30px;margin-bottom: 50px;">당첨 예상 번호</p>

            <canvas id="canvas1" height="80" width="400" style="align-self: center;"></canvas>
            <canvas id="canvas2" height="80" width="400" style="align-self: center;"></canvas>
            <canvas id="canvas3" height="80" width="400" style="align-self: center;"></canvas>
            <canvas id="canvas4" height="80" width="400" style="align-self: center;"></canvas>
            <canvas id="canvas5" height="80" width="400" style="align-self: center;"></canvas>

            <button class="button" type="button" style="width: 40%; align-self:center; margin-top: 40px;"
                onclick="lotto()">GO</button>

        </div>


        <hr>

        <p style="font-size: 30px;font-weight: 500;padding-top: 30px;margin: 0px;"><span id="round"
                style="color: red;"></span> 당첨결과</p>
        <p style="padding: 0px;margin: 0px;"><span id=result_year></span>년 <span id=result_month></span>월 <span
                id=result_date></span>일</p>

        <iframe style="width: 100%; height: 800px;margin-top: 30px;margin-bottom: 100px;" scrolling="no" frameborder="0"
            src="https://m.dhlottery.co.kr/gameResult.do?method=byWin">결과 사이트</iframe>
    </div>
    <p style="color: white;">gyutae0729@gmail.com<br>당첨시 메일로 기프트콘 부탁드립니다.</p>
    <script>

        var now = new Date();
        var start_day = new Date(2020, 1, 1, 21);
        var round = 896;
        var temp_round;
        var what = Math.ceil((now - start_day) / (60 * 1000 * 60 * 24));
        temp_round = Math.floor(round + what / 7);
        document.getElementById("round").innerHTML = temp_round + "회";

        var that_date = start_day;
        that_date.setDate(that_date.getDate() + (temp_round - round) * 7);
        document.getElementById("result_year").innerHTML = that_date.getFullYear();
        document.getElementById("result_month").innerHTML = that_date.getMonth() + 1;
        document.getElementById("result_date").innerHTML = that_date.getDate();



        $(document).ready(function () {
            $("#title_lotto").fadeOut(2000);
            $("#title_lotto").fadeIn(500);
            setTimeout(function () {
                var title_lotto = document.getElementById("title_lotto");
                title_lotto.style.color = "red";
                document.getElementById("title_lotto").innerHTML = "로또";

            }, 2000);

            $("#title_num").fadeOut(3000);
            $("#title_num").fadeIn(500);
            setTimeout(function () {
                var title_num = document.getElementById("title_num");
                title_num.style.color = "red";
                document.getElementById("title_num").innerHTML = "1";
            }, 3000);


            if (now.getDay() >= 1) {
                $("#sun").fadeOut(4000);
                $("#sun").fadeIn(1000);
                setTimeout(function () {
                    var sun = document.getElementById("sun");
                    sun.style.color = "orange";
                }, 3000);
            }
            if (now.getDay() >= 2) {
                $("#mon").fadeOut(5000);
                $("#mon").fadeIn(1000);
                setTimeout(function () {
                    var mon = document.getElementById("mon");
                    mon.style.color = "orange";
                }, 3500);
            }
            if (now.getDay() >= 3) {
                $("#twe").fadeOut(6000);
                $("#twe").fadeIn(1000);
                setTimeout(function () {
                    var twe = document.getElementById("twe");
                    twe.style.color = "orange";
                }, 4000);
            }
            if (now.getDay() >= 4) {
                $("#wen").fadeOut(7000);
                $("#wen").fadeIn(1000);
                setTimeout(function () {
                    var wen = document.getElementById("wen");
                    wen.style.color = "orange";
                }, 4500);
            }
            if (now.getDay() >= 5) {
                $("#thu").fadeOut(8000);
                $("#thu").fadeIn(1000);
                setTimeout(function () {
                    var thu = document.getElementById("thu");
                    thu.style.color = "orange";
                }, 5000);
            }
            if (now.getDay() >= 6) {
                $("#fri").fadeOut(9000);
                $("#fri").fadeIn(1000);
                setTimeout(function () {
                    var fri = document.getElementById("fri");
                    fri.style.color = "orange";
                }, 5500);
            }

            $("#Dsun").fadeOut(0);
            $("#Dmon").fadeOut(0);
            $("#Dtwe").fadeOut(0);
            $("#Dwen").fadeOut(0);
            $("#Dthu").fadeOut(0);
            $("#Dfri").fadeOut(0);
            $("#Dsat").fadeOut(0);

            $("#Dsun").fadeIn(4000);
            $("#Dmon").fadeIn(5000);
            $("#Dtwe").fadeIn(6000);
            $("#Dwen").fadeIn(7000);
            $("#Dthu").fadeIn(8000);
            $("#Dfri").fadeIn(9000);
            $("#Dsat").fadeIn(10000);


            if (now.getDay() == 0) {
                var Dsun = document.getElementById("Dsun");
                Dsun.style.color = "white";
            }
            if (now.getDay() == 1) {
                var Dmon = document.getElementById("Dmon");
                Dmon.style.color = "white";
            }
            if (now.getDay() == 2) {
                var Dtwe = document.getElementById("Dtwe");
                Dtwe.style.color = "white";
            }
            if (now.getDay() == 3) {
                var Dwen = document.getElementById("Dwen");
                Dwen.style.color = "white";
            }
            if (now.getDay() == 4) {
                var Dthu = document.getElementById("Dthu");
                Dthu.style.color = "white";
            }
            if (now.getDay() == 5) {
                var Dfri = document.getElementById("Dfri");
                Dfri.style.color = "white";
            }
            if (now.getDay() == 6) {
                var Dsat = document.getElementById("Dsat");
                var left = 20 - now.getHours();
                Dsat.style.color = "red";
                if (left < 10)
                    Dsat.style.paddingRight = "5px"
                document.getElementById("Dsat").innerHTML = left + "H";
            }
        });

        for (j = 1; j < 6; j++) {
            var what_canvas = "canvas" + j;
            var ctx = document.getElementById(what_canvas).getContext("2d");
            ctx.clearRect(0, 0, what_canvas.width, what_canvas.height);

            ctx.font = '22px Arial';
            ctx.textAlign = "center";

            for (i = 0; i < 8; i++) {
                if (i == 6) {
                    ctx.beginPath();
                    ctx.arc(i * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                    ctx.fillStyle = "white";
                    ctx.fill();
                    ctx.closePath();
                    ctx.fillStyle = "black";
                    ctx.fillText("+", i * 45 + 22.5, 32);
                }
                else {
                    ctx.beginPath();
                    ctx.arc(i * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                    ctx.fillStyle = "orange";
                    ctx.fill();
                    ctx.closePath();
                    ctx.fillStyle = "white";
                    ctx.fillText("?", i * 45 + 22.5, 32);
                }

            }
        }



        function lotto() {
            for (a = 1; a < 6; a++) {
                var where_canvas = "canvas" + a;
                var ctx = document.getElementById(where_canvas).getContext("2d");
                ctx.clearRect(0, 0, where_canvas.width, where_canvas.height);
                lottoNum = new Array(45);

                for (i = 0; i < 45; i++) {
                    lottoNum[i] = i + 1;
                }

                var rNum;
                myNum = new Array(7);
                for (i = 0; i < 7; i++) {
                    rNum = parseInt(Math.random() * lottoNum.length);
                    myNum[i] = lottoNum[rNum];
                    lottoNum.splice(rNum, 1); //해당 배열 한칸 줄임
                }

                for (i = 0; i < 6; i++) {
                    for (j = 0; j <= i; j++) {
                        if (myNum[i] <= myNum[j]) {
                            k = myNum[i];
                            myNum[i] = myNum[j];
                            myNum[j] = k;
                        }
                    }
                }


                ctx.font = '22px Arial';
                ctx.textAlign = "center";

                for (i = 0; i < 6; i++) {
                    switch (Math.ceil(myNum[i] / 10)) {
                        case 1:
                            ctx.beginPath();
                            ctx.arc(i * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                            ctx.fillStyle = "rgb(250,196,0)";
                            ctx.fill();
                            ctx.closePath();
                            break;
                        case 2:
                            ctx.beginPath();
                            ctx.arc(i * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                            ctx.fillStyle = "rgb(104,200,242)";
                            ctx.fill();
                            ctx.closePath();
                            break;

                        case 3:
                            ctx.beginPath();
                            ctx.arc(i * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                            ctx.fillStyle = "rgb(254,114,114)";
                            ctx.fill();
                            ctx.closePath();
                            break;
                        case 4:
                            ctx.beginPath();
                            ctx.arc(i * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                            ctx.fillStyle = "rgb(170,170,170)";
                            ctx.fill();
                            ctx.closePath();
                            break;

                        case 5:
                            ctx.beginPath();
                            ctx.arc(i * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                            ctx.fillStyle = "rgb(176,216,65)";
                            ctx.fill();
                            ctx.closePath();
                            break;
                    }
                    ctx.fillStyle = "white";
                    ctx.fillText(myNum[i], i * 45 + 22.5, 32);
                }
                switch (Math.ceil(myNum[6] / 10)) {
                    case 1:
                        ctx.beginPath();
                        ctx.arc(7 * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                        ctx.fillStyle = "rgb(250,196,0)";
                        ctx.fill();
                        ctx.closePath();
                        break;
                    case 2:
                        ctx.beginPath();
                        ctx.arc(7 * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                        ctx.fillStyle = "rgb(104,200,242)";
                        ctx.fill();
                        ctx.closePath();
                        break;

                    case 3:
                        ctx.beginPath();
                        ctx.arc(7 * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                        ctx.fillStyle = "rgb(254,114,114)";
                        ctx.fill();
                        ctx.closePath();
                        break;
                    case 4:
                        ctx.beginPath();
                        ctx.arc(7 * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                        ctx.fillStyle = "rgb(170,170,170)";
                        ctx.fill();
                        ctx.closePath();
                        break;

                    case 5:
                        ctx.beginPath();
                        ctx.arc(7 * 45 + 22.5, 25, 20, 0, 2 * Math.PI, false);
                        ctx.fillStyle = "rgb(176,216,65)";
                        ctx.fill();
                        ctx.closePath();
                        break;
                }
                ctx.fillStyle = "white";
                ctx.fillText(myNum[6], 7 * 45 + 22.5, 32);
            }
        }
    </script>
</body>

</html>